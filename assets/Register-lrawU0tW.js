import{u as p,r as o,j as a,f as x}from"./index-DWlfa0Ll.js";import{a as g}from"./axios-C8DqakIB.js";import{c as w,a as s,b as j,u as b}from"./index.esm-C6kJQpEt.js";import{H as v}from"./Helmet-DDM1bIVb.js";function C(){const i=p(),[t,n]=o.useState(""),[d,r]=o.useState(!1);async function m(u){try{r(!0);let{data:l}=await g.post("https://ecommerce.routemisr.com/api/v1/auth/signup",u);l.message==="success"&&(n(""),r(!1),i("/Login"))}catch(l){n(l.response.data.message),r(!1)}}const c=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,h=w({name:s().min(3,"You must enter at least 3 letters").max(15,"Cannot add over 15 letters").required("Name is required"),email:s().email().required("Email is required"),password:s().matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,"Password must be at least 8 characters long, contain at least one letter, one number and one special character.").required("Password is required"),rePassword:s().oneOf([j("password")],"The re-entered password must match the original password.").required("rePassword is required"),phone:s().matches(c,"Phone number is not valid").required("Phone number is required")});let e=b({initialValues:{name:"",email:"",password:"",rePassword:"",phone:""},validationSchema:h,onSubmit:m});return a.jsxs(a.Fragment,{children:[a.jsxs(v,{children:[a.jsx("meta",{charSet:"utf-8"}),a.jsx("title",{children:"Register"})]}),a.jsxs("div",{className:"container py-5 my-5",children:[a.jsx("h3",{className:"text-main mt-3 fw-bold",children:"Register"}),a.jsx("div",{className:"row",children:a.jsxs("div",{className:"col-md-12",children:[t?a.jsx("p",{className:"alert alert-danger p-2 my-2",children:t}):"",a.jsxs("form",{onSubmit:e.handleSubmit,children:[a.jsxs("div",{className:"my-3",children:[a.jsx("label",{htmlFor:"name",children:"Name :"}),a.jsx("input",{type:"text",className:"form-control w-100 my-2",id:"name",name:"name",value:e.values.name,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.name&&e.touched.name?a.jsx("div",{className:"alert alert-danger p-2",children:e.errors.name}):""]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"email",children:"Email :"}),a.jsx("input",{type:"email",className:"form-control w-100 my-2",id:"email",name:"email",value:e.values.email,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.email&&e.touched.email?a.jsx("div",{className:"alert alert-danger p-2",children:e.errors.email}):""]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"password",children:"Password :"}),a.jsx("input",{type:"password",className:"form-control w-100 my-2",id:"password",name:"password",value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.password&&e.touched.password?a.jsx("div",{className:"alert alert-danger p-2",children:e.errors.password}):""]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"rePassword",children:"re-Password :"}),a.jsx("input",{type:"password",className:"form-control w-100 my-2",id:"rePassword",name:"rePassword",value:e.values.rePassword,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.rePassword&&e.touched.rePassword?a.jsx("div",{className:"alert alert-danger p-2",children:e.errors.rePassword}):""]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"tel",children:"Phone :"}),a.jsx("input",{type:"text",className:"form-control w-100 my-2",id:"tel",name:"phone",value:e.values.phone,onChange:e.handleChange,onBlur:e.handleBlur}),e.errors.phone&&e.touched.phone?a.jsx("div",{className:"alert alert-danger p-2",children:e.errors.phone}):""]}),a.jsx("button",{className:"btn bg-main d-block text-white mt-3 ms-auto",type:"submit",disabled:!(e.isValid&&e.dirty),children:d?a.jsx(x,{height:"20",width:"50",color:"#fff",ariaLabel:"bars-loading",visible:!0}):"Register"})]})]})})]})]})}export{C as default};
