import{a as t}from"./axios-C8DqakIB.js";import{e as c,_ as n}from"./index-B8cgAmTv.js";import{u as i}from"./useMutation-BW6S4wbP.js";import{u as d}from"./useQuery-Bi6aL8q-.js";const s="https://ecommerce.routemisr.com/api/v1",o=localStorage.getItem("userToken");function h(e){return t.post(`${s}/cart`,{productId:e},{headers:{token:o}})}function C(){return t.get(`${s}/cart`,{headers:{token:o}})}function $(e){return t.delete(`${s}/cart/${e}`,{headers:{token:o}})}function m(){return t.delete(`${s}/cart`,{headers:{token:o}})}function k({productId:e,count:r}){return t.put(`${s}/cart/${e}`,{count:r},{headers:{token:o}})}function y({productId:e,shippingAddress:r}){return t.post(`${s}/orders/checkout-session/${e}?url=http://localhost:3000`,{shippingAddress:r},{headers:{token:o}})}function Q(e){const r=c();return i(e,{onSuccess:a=>{var u;n.success((u=a==null?void 0:a.data)==null?void 0:u.message),e!==m?r.invalidateQueries("LoggedProduct"):r.setQueryData("LoggedProduct",null)}},{onError:a=>{n.error(a.message)}})}function v(e,r){return d(e,r)}export{Q as a,h as b,m as c,k as d,y as e,C as g,$ as r,v as u};
