import{u as c,r as u,j as e,f,_ as o}from"./index-BAlKlOWj.js";import{a as h}from"./axios-C8DqakIB.js";import{c as p,a as x,u as C}from"./index.esm-Bq2wrOFH.js";import{H as b}from"./Helmet-BXMTIC_i.js";import{u as j}from"./useMutation-CX-HYC51.js";import"./utils-Dji2qSVF.js";function E(){const i=c(),[d,r]=u.useState(!1);function n(t){return r(!0),h.post("https://ecommerce.routemisr.com/api/v1/auth/verifyResetCode",t)}let{mutate:l}=j(n,{onSuccess:t=>{var a;o.success((a=t==null?void 0:t.data)==null?void 0:a.status),i("/resetPassword"),r(!1)},onError:()=>{o.error("Reset code is invalid or has expired"),r(!1)}});const m=p({resetCode:x().required("Reset code is required")});let s=C({initialValues:{resetCode:""},validationSchema:m,onSubmit:t=>{l(t)}});return e.jsxs(e.Fragment,{children:[e.jsxs(b,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("title",{children:"Verify Code"})]}),e.jsxs("div",{className:"container my-5 py-5",children:[e.jsx("h3",{className:"mt-3 text-main fw-bold",children:"Verify Code :"}),e.jsxs("form",{onSubmit:s.handleSubmit,className:"py-5",children:[e.jsx("label",{className:"py-2",htmlFor:"resetCode",children:"Enter your verification Code :"}),e.jsx("input",{className:"form-control mt-2",type:"text",id:"resetCode",placeholder:"Verification Code",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.resetCode,name:"resetCode"}),s.errors.resetCode&&s.touched.resetCode?e.jsx("div",{className:"alert alert-danger p-2 mt-3",children:s.errors.resetCode}):"",e.jsxs("button",{disabled:!(s.isValid&&s.dirty),type:"submit",className:"btn bg-main text-white mt-3",children:[" ",d?e.jsx(f,{height:"25",width:"50",color:"#fff",ariaLabel:"bars-loading",visible:!0}):"Verify"]})]})]})]})}export{E as default};
